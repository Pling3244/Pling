<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.springCareer.mapper.FreeBoardMapper">
	<select id="getList" resultType="com.springCareer.domain.FreeBoardVO">
	<![CDATA[	
		select * from free_post where post_id>0
	]]> 
	</select>
	
	
	<insert id="insert">
		insert into
			free_post(post_id, user_id, title, content, created_at)
		values
			(seq_board.nextval, #{user_id}, #{title}, #{content}, sysdate)
	</insert>	
	
	
	<select id="read" resultType="com.springCareer.domain.FreeBoardVO">
		select * from free_post where post_id = #{post_id}
	</select>
	
	<update id="update">
		update
			free_post
		set
			title=#{title}, content=#{content}, created_at=sysdate
		where
			post_id = #{post_id}
	</update>
	
 	
	<delete id="delete">
		delete free_post where post_id = #{post_id} 
	</delete>
	
	
	
	
	
	
<!-- 	<select id="getListWithPaging" resultType="com.springCareer.domain.FreeBoardVO">
	<![CDATA[
		select
			post_id, title, content, user_id, created_at
		from(
			select
				/*+INDEX_DESC(free_post pk_board) */ rownum rn, post_id, title, content, user_id, created_at
			from
				free_post
			where
				rownum <= #{pageNum} * #{amount}
			)
		where
			rn > (#{pageNum}-1) * #{amount}
	]]>
	</select> -->
 
 </mapper>